"use strict";(self["webpackChunkcamping"]=self["webpackChunkcamping"]||[]).push([[670],{8670:function(t,e,o){o.d(e,{Z:function(){return A}});var a=o(3396),i=o(7139);const n=t=>((0,a.dD)("data-v-0e9f84a6"),t=t(),(0,a.Cn)(),t),r={class:"table"},s={class:"table-header row"},l={class:"table-column"},c={class:"excel-export-container"},u={class:"table-body row"},p=n((()=>(0,a._)("input",{type:"checkbox",name:"checkedUser",value:""},null,-1))),d={class:"table-column"},f={key:0},m={key:1},h={key:2},y={key:3};function g(t,e,o,n,g,D){const w=(0,a.up)("Sort"),b=(0,a.up)("Filtering"),k=(0,a.up)("ExcelExport"),v=(0,a.up)("TableButton"),P=(0,a.up)("Pagination"),x=(0,a.up)("ModifyModalReport");return(0,a.wg)(),(0,a.iD)("div",r,[(0,a._)("ul",null,[(0,a._)("li",s,[(0,a._)("input",{onClick:e[0]||(e[0]=t=>D.checkAll(t)),type:"checkbox",name:"checkedUser",value:""}),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.columns,(t=>((0,a.wg)(),(0,a.iD)("div",l,[(0,a.Uk)((0,i.zw)(t.name)+" ",1),t.sortable?((0,a.wg)(),(0,a.j4)(w,{key:0,column:t.prop,onSort:D.getSortData},null,8,["column","onSort"])):(0,a.kq)("",!0),t.filtering?((0,a.wg)(),(0,a.j4)(b,{key:1,datas:o.reportData,column:t.prop,type:t.type,onFilterData:D.filterData},null,8,["datas","column","type","onFilterData"])):(0,a.kq)("",!0)])))),256)),(0,a._)("div",c,[(0,a.Wm)(k,{inputData:o.reportData},null,8,["inputData"])])]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.rows,((e,o)=>((0,a.wg)(),(0,a.iD)("li",u,[p,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.columns,(o=>((0,a.wg)(),(0,a.iD)("div",d,[o.type!=Date&&"boardDivision"!=o.prop&&"status"!=o.prop?((0,a.wg)(),(0,a.iD)("div",f,(0,i.zw)(e[o.prop]),1)):(0,a.kq)("",!0),o.type!=Date&&"boardDivision"==o.prop&&"status"!=o.prop?((0,a.wg)(),(0,a.iD)("div",m,(0,i.zw)(t.$filters.formatBoardDivision(e[o.prop])),1)):(0,a.kq)("",!0),o.type!=Date&&"boardDivision"!=o.prop&&"status"==o.prop?((0,a.wg)(),(0,a.iD)("div",h,(0,i.zw)(t.$filters.formatReportStatus(e[o.prop])),1)):(0,a.kq)("",!0),o.type==Date?((0,a.wg)(),(0,a.iD)("div",y,(0,i.zw)(t.$filters.formatDate(e[o.prop])),1)):(0,a.kq)("",!0)])))),256)),t.modifybtn?((0,a.wg)(),(0,a.j4)(v,{key:0,type:"modify",onModify:t=>D.modify(e,o)},null,8,["onModify"])):(0,a.kq)("",!0),t.removebtn&&0==t.$store.state.auth?((0,a.wg)(),(0,a.j4)(v,{key:1,type:"remove",onRemove:t=>D.remove(e,o)},null,8,["onRemove"])):(0,a.kq)("",!0),0==t.$store.state.auth?((0,a.wg)(),(0,a.j4)(v,{key:2,type:"limit",onLimit:t=>D.limit(e,o)},null,8,["onLimit"])):(0,a.kq)("",!0),0==t.$store.state.auth?((0,a.wg)(),(0,a.j4)(v,{key:3,type:"active",onActive:t=>D.active(e,o)},null,8,["onActive"])):(0,a.kq)("",!0)])))),256))]),(0,a.Wm)(P,{startPage:D.startPage,endPage:D.endPage,totalPage:t.totalPage,onChangePage:D.changePage},null,8,["startPage","endPage","totalPage","onChangePage"]),t.isModify?((0,a.wg)(),(0,a.j4)(x,{key:0,columns:t.columns,modifyData:t.modifyData,onCancelModify:D.cancelModify,onConfirmModify:D.confirmModify},null,8,["columns","modifyData","onCancelModify","onConfirmModify"])):(0,a.kq)("",!0)])}o(7658);var D=o(3511),w=o(1157),b=o(7612),k=o(9499),v=o(2492),P=o.n(v),x=o(6799),C=o(6606),M=o(9242);const S=t=>((0,a.dD)("data-v-28a356ae"),t=t(),(0,a.Cn)(),t),j=S((()=>(0,a._)("h2",null,"정보 수정",-1))),q={class:"modify-row"},B=["onUpdate:modelValue"],I=["onUpdate:modelValue"],T={class:"modify-button-container"};function $(t,e,o,n,r,s){const l=(0,a.up)("RButton");return(0,a.wg)(),(0,a.iD)("form",{class:"modify-container",onSubmit:e[2]||(e[2]=(0,M.iM)((()=>{}),["prevent"]))},[j,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.modifyData,((t,e)=>((0,a.wg)(),(0,a.iD)("div",q,[(0,a._)("span",null,(0,i.zw)(e),1),"password"!=e?(0,a.wy)(((0,a.wg)(),(0,a.iD)("input",{key:0,type:"text","onUpdate:modelValue":t=>o.modifyData[e]=t},null,8,B)),[[M.nr,o.modifyData[e]]]):(0,a.kq)("",!0),"password"==e?(0,a.wy)(((0,a.wg)(),(0,a.iD)("input",{key:1,type:"password","onUpdate:modelValue":t=>o.modifyData[e]=t},null,8,I)),[[M.nr,o.modifyData[e]]]):(0,a.kq)("",!0)])))),256)),(0,a._)("div",T,[(0,a.Wm)(l,{inputColor:"lightGreen",inputSize:"md",inputValue:"확인",onClickBtn:e[0]||(e[0]=t=>s.confirm())}),(0,a.Wm)(l,{inputColor:"cream",inputSize:"md",inputValue:"취소",onClickBtn:e[1]||(e[1]=t=>s.cancel())})])],32)}var z=o(2027),_={props:["columns","modifyData"],created:function(){console.log("aa",this.columns),console.log("aa",this.modifyData)},data:function(){return{modifiedData:this.modifyData}},methods:{cancel:function(){this.$emit("cancelModify")},confirm:function(){let t=new FormData(document.querySelector(".modify-container"));t.forEach(((t,e)=>{console.log(t)})),console.log(this.modifiedData),this.$emit("confirmModify",this.modifiedData)}},components:{RButton:z.Z}},U=o(89);const N=(0,U.Z)(_,[["render",$],["__scopeId","data-v-28a356ae"]]);var O=N,Z={props:["reportData","perPage"],data:function(){return{columns:[{name:"캠핑장 번호",prop:"boardId",sortable:!0,filtering:!0,type:Number},{name:"구분",prop:"boardDivision",sortable:!0,type:Number},{name:"대분류",prop:"reportDivision",type:String},{name:"신고자",prop:"email",type:String},{name:"신고일자",prop:"regdate",filtering:!0,type:Date},{name:"상태",prop:"status",sortable:!0,type:Number}],rows:[],totalPage:0,currentPage:1,modifybtn:!0,removebtn:!0,isModify:!1,modifyData:{}}},created:function(){let t=Object.keys(this.reportData).length;this.totalPage=t<=20?1:Math.ceil(t/this.perPage);for(let e=0;e<this.perPage;e++){if(Object.keys(this.reportData).length<=e)break;console.log(e),this.rows.push(this.reportData[e])}},mounted:function(){this.changeColumnSize()},computed:{endPage:function(){return this.totalPage<this.startPage+9?this.totalPage%10:10},startPage:function(){return this.currentPage<=10?1:this.currentPage-this.currentPage%10+1}},methods:{getSortData:function(t,e){console.log(t,e),this.sortJSON(this.rows,t,e)},sortJSON:function(t,e,o){return void 0==o&&(o="asc"),t.sort((function(t,a){var i=t[e],n=a[e];return"desc"==o?i>n?-1:i<n?1:0:"asc"==o?i<n?-1:i>n?1:0:void 0}))},checkAll:function(t){if(t.target.checked)for(let e of document.querySelectorAll('input[type="checkbox"]'))e.checked=!0;else for(let e of document.querySelectorAll('input[type="checkbox"]'))e.checked=!1},changePage:function(t){this.currentPage=t},changeColumnSize:function(){let t="40px";for(let e of this.columns)Object.keys(e).includes("size")?t=t+" "+e.size:t+=" minmax(200px,1fr)";this.modifybtn&&(t+=" 25px"),this.removebtn&&(t+=" 25px"),t+=" 25px 25px",document.querySelector(".table").style.setProperty("--gridTemplate",t)},modify:function(t,e){this.modifyData=t,this.isModify=!0},remove:function(t,e){P().fire({title:"신고를 미처리로 변경하시겠습니까?",showCancelButton:!0,confirmButtonText:"미처리",cancelButtonText:"취소"}).then((o=>{o.isConfirmed&&fetch("http://localhost:8087/java/report",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({reportId:t.reportId,status:0})}).then((t=>t.text())).then((t=>{"true"==t&&(this.rows[e].status=0,P().fire("미처리 변경 !","","success"))}))}))},limit:function(t,e){P().fire({title:"신고 처리를 반려하시겠습니까?",showCancelButton:!0,confirmButtonText:"반려",cancelButtonText:"취소"}).then((o=>{o.isConfirmed&&fetch("http://localhost:8087/java/report",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({reportId:t.reportId,status:2})}).then((t=>t.text())).then((t=>{"true"==t&&(this.rows[e].status=2,P().fire("반려 완료 !","","success"))}))}))},active:function(t,e){P().fire({title:"신고 처리 완료 하시겠습니까?",text:"신고 내용이 정상적으로 처리되었음을 알립니다.",showCancelButton:!0,confirmButtonText:"완료",cancelButtonText:"취소"}).then((o=>{o.isConfirmed&&fetch("http://localhost:8087/java/report",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({reportId:t.reportId,status:1})}).then((t=>t.text())).then((t=>{"true"==t&&(this.rows[e].status=1,P().fire("처리 완료 !","","success"))}))}))},filterData:function(t){console.log("filtering data ",t),this.rows=t},cancelModify:function(){this.modifyData=[],this.isModify=!1},confirmModify:function(t){0==t.boardDivision?this.$router.push({name:"CampDetail",params:{campId:t.boardId}}):1==t.boardDivision?this.$router.push({name:"recruDetail",params:{recruId:t.boardId}}):2==t.boardDivision?this.$router.push({name:"usedDetail",params:{writeNo:t.boardId}}):3==t.boardDivision&&this.$router.push({name:"SnsDetail",params:{writeNo:t.boardId}})}},watch:{currentPage:function(){this.rows=[];for(let t=(this.currentPage-1)*this.perPage;t<(this.currentPage-1)*this.perPage+this.perPage;t++){if(t>=this.reportData.length)break;this.rows.push(this.reportData[t])}},reportData:function(){let t=Object.keys(this.reportData).length;this.totalPage=t<=20?1:Math.ceil(t/this.perPage);for(let e=0;e<this.perPage;e++){if(Object.keys(this.reportData).length<=e)break;console.log(e),this.rows.push(this.reportData[e])}this.$forceUpdate()}},components:{Pagination:D.Z,Sort:w.Z,Filtering:b.Z,TableButton:k.Z,ModifyModal:x.Z,ExcelExport:C.Z,ModifyModalReport:O}};const R=(0,U.Z)(Z,[["render",g],["__scopeId","data-v-0e9f84a6"]]);var A=R}}]);
//# sourceMappingURL=670.8856dcae.js.map