"use strict";(self["webpackChunkcamping"]=self["webpackChunkcamping"]||[]).push([[505],{2714:function(e,t,s){s.d(t,{Z:function(){return Z}});var a=s(3396),i=s(9242),d=s(7139);const n={class:"like"},o=["src"],l=["src"],r={class:"card-pic"},u=["src"],c={class:"card-info"},h={class:"card-top"},m={class:"card-info-l"},g={key:0},v={class:"blue-btn"},p={class:"first-link",href:""},f=["value"],k={key:1},C={class:"blue-btnn"},_={class:"first-linkk",href:""},w=["value"],D={class:"font-gray"},I={class:"card-info-r"},y={key:0,class:"dealGreen"},b={key:1,class:"dealRed"},L={key:2,class:"dealGray"},j={key:3,class:"statusBlack"},S={class:"card-bottom"},T={class:"card-place"},$={class:"card-write"},E={class:"font-gray"};function O(e,t,s,O,q,N){return(0,a.wg)(),(0,a.iD)("div",{onClick:t[2]||(t[2]=(...e)=>N.cardDetail&&N.cardDetail(...e)),class:"card"},[(0,a._)("div",n,[q.liked?((0,a.wg)(),(0,a.iD)("img",{key:0,onClick:t[0]||(t[0]=(0,i.iM)((e=>N.hearted()),["stop"])),src:q.heartImg},null,8,o)):(0,a.kq)("",!0),q.liked?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("img",{key:1,onClick:t[1]||(t[1]=(0,i.iM)((e=>N.hearted()),["stop"])),src:q.heartImg2},null,8,l))]),(0,a._)("div",r,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(q.images,(e=>((0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("img",{src:"http://localhost:8087/java/used/showImage/"+e.usedPath+"/"+e.usedStoredName},null,8,u)])))),256))]),(0,a._)("div",c,[(0,a._)("div",h,[(0,a._)("ul",m,[s.usedCard.usedName.length>12?((0,a.wg)(),(0,a.iD)("div",g,[(0,a._)("li",v,[(0,a._)("a",p,[(0,a._)("h3",null,(0,d.zw)(s.usedCard.usedName),1)]),(0,a._)("input",{class:"used-id",type:"hidden",value:s.usedCard.usedId},null,8,f)])])):(0,a.kq)("",!0),s.usedCard.usedName.length<12?((0,a.wg)(),(0,a.iD)("div",k,[(0,a._)("li",C,[(0,a._)("a",_,[(0,a._)("h3",null,(0,d.zw)(s.usedCard.usedName),1)]),(0,a._)("input",{class:"used-id",type:"hidden",value:s.usedCard.usedId},null,8,w)])])):(0,a.kq)("",!0),(0,a._)("li",null,[(0,a._)("h4",null,[(0,a._)("span",D,"￦ "+(0,d.zw)(s.usedCard.usedPrice.toLocaleString("ko-KR")),1)])])]),(0,a._)("ul",I,[(0,a._)("li",null,[0==s.usedCard.dealStatus&&0===s.usedCard.usedStatus?((0,a.wg)(),(0,a.iD)("div",y,"거래가능")):(0,a.kq)("",!0),1==s.usedCard.dealStatus&&0===s.usedCard.usedStatus?((0,a.wg)(),(0,a.iD)("div",b,"거래중")):(0,a.kq)("",!0),2==s.usedCard.dealStatus&&0===s.usedCard.usedStatus?((0,a.wg)(),(0,a.iD)("div",L,"거래완료")):(0,a.kq)("",!0),0!=s.usedCard.usedStatus?((0,a.wg)(),(0,a.iD)("div",j,"접근제한")):(0,a.kq)("",!0)])])]),(0,a._)("div",S,[(0,a._)("div",T,(0,d.zw)(s.usedCard.usedPlace),1),(0,a._)("div",$,[(0,a._)("span",E,(0,d.zw)(s.usedCard.usedWrite),1)])])])])}s(7658);var q=s(865),N=s.p+"img/heart.83ab491c.png",P=s(5934),x=s(2492),z=s.n(x),B={name:"UsedCard",props:["usedCard"],data(){return{cardImg:q,heartImg:N,heartImg2:P,liked:!0,images:[]}},mounted(){},methods:{cardDetail:function(e){this.$router.push({name:"usedDetail"})},hearted:function(){if(event.preventDefault(),null===this.$store.state.email)z().fire({icon:"warning",title:"로그인 후에 찜해주세요",toast:!0,showConfirmButton:!1,timer:850,didOpen:e=>{e.addEventListener("mouseenter",z().stopTimer),e.addEventListener("mouseleave",z().resumeTimer)}});else if(this.$store.state.email===this.usedCard.email)z().fire({icon:"warning",title:"내가 쓴 글은 찜할 수 없어요",toast:!0,showConfirmButton:!1,timer:900,didOpen:e=>{e.addEventListener("mouseenter",z().stopTimer),e.addEventListener("mouseleave",z().resumeTimer)}});else{this.liked=!this.liked;let e={boardId:this.usedCard.usedId,boardDivision:2,email:this.$store.state.email};console.log(e),console.log(e.boardId),!0===this.liked?fetch("http://localhost:8087/java/save",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((e=>e.text())).then((e=>{e>="1"&&(console.log("삭제되었습니다."),z().fire({icon:"error",title:"찜 목록에서 삭제되었어요",toast:!0,showConfirmButton:!1,timer:1e3,didOpen:e=>{e.addEventListener("mouseenter",z().stopTimer),e.addEventListener("mouseleave",z().resumeTimer)}}))})).catch((e=>console.log(e))):!1===this.liked?fetch("http://localhost:8087/java/save",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((e=>e.text())).then((e=>{e>="1"&&(console.log("입력되었습니다."),z().fire({icon:"success",title:"찜 목록에 저장되었어요",toast:!0,showConfirmButton:!1,timer:1e3,didOpen:e=>{e.addEventListener("mouseenter",z().stopTimer),e.addEventListener("mouseleave",z().resumeTimer)}}),this.updateLike())})).catch((e=>console.log(e))):console.log("좋아요실패??")}},updateLike:function(){let e=this.usedCard.usedId;fetch("http://localhost:8087/java/used/updateLike",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}},created(){fetch("http://localhost:8087/java/used/usedImage/"+this.usedCard.usedId).then((e=>e.json())).then((e=>{this.images=e})).catch((e=>console.log(e))),null!=this.$store.state.email&&fetch("http://localhost:8087/java/save?boardId="+this.usedCard.usedId+"&email="+this.$store.state.email+"&boardDivision=2").then((e=>e.text())).then((e=>{"true"==e&&(this.liked=!1)})).catch((e=>console.log(e)))},watch:{usedCard:function(){fetch("http://localhost:8087/java/used/usedImage/"+this.usedCard.usedId).then((e=>e.json())).then((e=>{this.images=e})).catch((e=>console.log(e))),null!=this.$store.state.email&&fetch("http://localhost:8087/java/save?boardId="+this.usedCard.usedId+"&email="+this.$store.state.email+"&boardDivision=2").then((e=>e.text())).then((e=>{"true"==e&&(this.liked=!1)})).catch((e=>console.log(e)))}}},U=s(89);const M=(0,U.Z)(B,[["render",O],["__scopeId","data-v-1606f7e9"]]);var Z=M},1640:function(e,t,s){s.r(t),s.d(t,{default:function(){return I}});var a=s(3396),i=s(7139);const d=e=>((0,a.dD)("data-v-74e48688"),e=e(),(0,a.Cn)(),e),n={id:"container"},o={id:"container2"},l={onsubmit:"return false"},r={class:"used-headd"},u={class:"used-title"},c={class:"font-green"},h=d((()=>(0,a._)("hr",null,null,-1))),m={class:"used-body"},g={class:"cards"},v={class:"used-foote"};function p(e,t,s,d,p,f){const k=(0,a.up)("UsedCard"),C=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",n,[(0,a._)("div",o,[(0,a._)("form",l,[(0,a._)("div",r,[(0,a._)("div",u,[(0,a._)("h2",null,[(0,a.Uk)("중고장터 "),(0,a._)("span",c,(0,i.zw)(this.$store.state.nickname),1),(0,a.Uk)(" 님이 찜한 글")])]),h]),(0,a._)("div",m,[(0,a._)("h2",null,(0,i.zw)(e.recruMsg),1),(0,a._)("div",g,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(p.usedList,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e.id},[(0,a.Wm)(C,{tag:"div",to:{name:"usedDetail",params:{usedId:e.usedId}}},{default:(0,a.w5)((()=>[(0,a.Wm)(k,{usedCard:e},null,8,["usedCard"])])),_:2},1032,["to"])])))),128))])])]),(0,a._)("div",v,[(0,a._)("button",{onClick:t[0]||(t[0]=(...e)=>f.usedInsert&&f.usedInsert(...e))},"+")])])])}s(7658);var f=s(2714),k=s(2492),C=s.n(k),_={components:{UsedCard:f.Z},data(){return{saveList:[],usedList:[],myGearType:"",regionSelect:"",regionSelect2:"",minPrice:"",maxPrice:"",email:this.$store.state.email}},methods:{cardDetail:function(){this.$router.push({name:"usedDetail"})},usedInsert:function(){null!=this.$store.state.email?this.$router.push({name:"usedInsert"}):C().fire({icon:"warning",title:"로그인을 해주세요",toast:!0,showConfirmButton:!1,timer:1500,timerProgressBar:!0,didOpen:e=>{e.addEventListener("mouseenter",C().stopTimer),e.addEventListener("mouseleave",C().resumeTimer),this.$router.push({name:"LoginSignup"})}})},usedDetail:function(e){this.$router.push({name:"usedDetail",params:{usedId:e}})}},created(){console.log(this.$store.state.email),console.log("-----------------"),console.log(this.email),fetch("http://localhost:8087/java/used/mySave?email="+this.$store.state.email).then((e=>e.json())).then((e=>{if(console.log(e),this.saveList=e,this.saveList.length<1)this.recruMsg="찜한 중고거래 게시물이 없습니다";else{this.recruMsg="";for(let e of this.saveList)console.log(e),fetch("http://localhost:8087/java/used/usedDetail/"+e.boardId).then((e=>e.json())).then((e=>{this.usedList.push(e)}))}})).catch((e=>console.log(e))),console.log(this.email)}},w=s(89);const D=(0,w.Z)(_,[["render",p],["__scopeId","data-v-74e48688"]]);var I=D},865:function(e,t,s){e.exports=s.p+"img/bg9.c098448c.jpg"},5934:function(e,t,s){e.exports=s.p+"img/heart2.01c22f4d.png"}}]);
//# sourceMappingURL=505.babdd838.js.map