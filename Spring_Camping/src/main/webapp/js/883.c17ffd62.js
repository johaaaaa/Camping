"use strict";(self["webpackChunkcamping"]=self["webpackChunkcamping"]||[]).push([[883],{4883:function(e,t,n){n.r(t),n.d(t,{default:function(){return Y}});var l=n(3396),i=n(7139);const o=e=>((0,l.dD)("data-v-64361004"),e=e(),(0,l.Cn)(),e),s={class:"myNoteList"},c={class:"all_container"},a={class:"mynote_container"},d={class:"select_container"},r={class:"fn_btn_container"},h={class:"mynote_btn"},u={class:"container-fluid"},_={class:"row"},m={class:"card_header"},v={class:"noteId",style:{opacity:"0"}},p={class:"note_state"},b={class:"checkbox"},f=["id"],g=o((()=>(0,l._)("label",{for:"select_card"},null,-1))),y={class:"header_button"},k={class:"card-text"},I=o((()=>(0,l._)("hr",null,null,-1))),M={class:"card-title"},C={key:0,class:"black-bg"},w={class:"invite-white-bg"},x=o((()=>(0,l._)("div",{class:"modal_info"},"초대할 유저의 메일(id)을 입력해주세요",-1))),E=o((()=>(0,l._)("hr",null,null,-1))),L={class:"input_container"},N={class:"input_box"},T=o((()=>(0,l._)("input",{class:"input_email",placeholder:"메일(id)을 입력해주세요"},null,-1))),D={class:"invite_btn_container"},O={key:1,class:"black-bg"},S={class:"invite-cancel-white-bg"},j=o((()=>(0,l._)("div",{class:"modal_info"},"공유를 중지할 유저를 선택해주세요",-1))),q=o((()=>(0,l._)("hr",null,null,-1))),A={class:"block_user_container"},B=o((()=>(0,l._)("input",{type:"checkbox",class:"check_block_user"},null,-1))),$={class:"invitedMemberInfo"},z={class:"invite_btn_container"};function F(e,t,n,o,F,H){return(0,l.wg)(),(0,l.iD)("div",s,[(0,l._)("div",c,[(0,l._)("div",a,[(0,l._)("div",d,[(0,l._)("div",r,[(0,l._)("div",h,[(0,l._)("button",{id:"select_btn",onClick:t[0]||(t[0]=(...e)=>H.showCheckBox&&H.showCheckBox(...e))},"선택"),(0,l._)("button",{id:"delete_btn",onClick:t[1]||(t[1]=e=>[F.modalOpen=!0,H.checkedInfo(e)])},"삭제")])])]),(0,l._)("div",u,[(0,l._)("div",_,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(F.listInfo,(e=>((0,l.wg)(),(0,l.iD)("div",{class:"card_container",key:e.noteId},[(0,l._)("div",m,[(0,l._)("div",v,(0,i.zw)(e.noteId),1),(0,l._)("div",p,(0,i.zw)(e.noteState),1),(0,l._)("div",b,[F.show?((0,l.wg)(),(0,l.iD)("input",{key:0,type:"checkbox",id:e.noteId,name:"check_one",class:"check_note"},null,8,f)):(0,l.kq)("",!0),g]),(0,l._)("div",y,[(0,l._)("button",{id:"delete_btn",onClick:t[2]||(t[2]=e=>H.findId(e))},"삭제"),(0,l._)("button",{id:"invite_btn",onClick:t[3]||(t[3]=e=>[F.inviteModalOpen=!0,H.inviteForm(e)])},"초대"),(0,l._)("button",{id:"block_btn",onClick:t[4]||(t[4]=e=>[F.inviteCancleModalOpen=!0,H.inviteCancleForm(e)])},"공유취소")])]),(0,l._)("div",{class:"card_body",onClick:t[5]||(t[5]=e=>H.goMynote(e))},[(0,l._)("div",k,(0,i.zw)(e.writeDate),1),I,(0,l._)("div",M,(0,i.zw)(e.title),1)])])))),128))])]),1==F.inviteModalOpen?((0,l.wg)(),(0,l.iD)("div",C,[(0,l._)("div",w,[x,E,(0,l._)("div",L,[(0,l._)("div",N,[T,(0,l._)("button",{class:"add_inviteMember",onClick:t[6]||(t[6]=e=>H.addInviteMember(e))},"추가"),(0,l._)("button",{class:"add_inviteMember",onClick:t[7]||(t[7]=e=>H.delInviteMember(e))},"삭제")])]),(0,l._)("div",D,[(0,l._)("button",{class:"success",onClick:t[8]||(t[8]=e=>H.inviteUser(e))},"초대"),(0,l._)("button",{class:"modal_cancel",onClick:t[9]||(t[9]=e=>F.inviteModalOpen=!1)},"취소")])])])):(0,l.kq)("",!0),1==F.inviteCancleModalOpen?((0,l.wg)(),(0,l.iD)("div",O,[(0,l._)("div",S,[j,q,(0,l._)("div",A,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(F.InvitedmemberList,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{class:"invited_list_info",key:t},[B,(0,l._)("div",$,(0,i.zw)(e),1)])))),128))]),(0,l._)("div",z,[(0,l._)("button",{class:"success",onClick:t[10]||(t[10]=e=>[H.blockMember(e),H.delMemberList(e)])},"공유끊기"),(0,l._)("button",{class:"modal_cancel",onClick:t[11]||(t[11]=e=>[F.inviteCancleModalOpen=!1,H.delMemberList(e)])},"취소")])])])):(0,l.kq)("",!0)])])])}n(7658);var H=n(7273),J=n(2492),U=n.n(J),Z={name:"MynoteList",data(){return{oneNoteId:"",noteId:[],blockMeber:[],myNoteId:this.$route.params.noteId,status:"",listInfo:[],InvitedmemberList:[],show:!1,modalOpen:!1,inviteModalOpen:!1,inviteCancleModalOpen:!1}},created(){this.getMyListInfo()},methods:{showCheckBox(e){this.show=!this.show},deleteNote(){this.visible=!this.visible},inviteNote(){this.visible=!this.visible},deleteInvite(){this.visible=!this.visible},getMyListInfo(){const e=this.$store.state.email;fetch(`http://localhost:8087/java/MyNoteList/${e}`,{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{this.listInfo=e,console.log(this.status),console.log(this.listInfo)})).catch((e=>console.log(e)))},findId(e){let t=e.target.parentElement.parentElement.firstChild.innerText;this.noteId.push(t),this.delNote()},checkedInfo(e){let t=document.querySelectorAll('input[type="checkbox"]');for(let n=0;n<t.length;n++)1==t[n].checked&&this.noteId.push(t[n].id);this.delNote()},goList(){this.$router.push({name:"MynoteList"})},delNote(){U().fire({title:"삭제하시겠습니까?",text:"입력한 내용이 삭제됩니다.",showCancelButton:!0,confirmButtonText:"삭제",cancelButtonText:"취소"}).then((e=>{if(e.isConfirmed){let e=this.noteId,t=[];for(let l=0;l<e.length;l++)t.push(e[l]);let n={noteIds:t};fetch("http://localhost:8087/java/MyNoteList",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((e=>{this.$router.go(0)})).catch((e=>{console.log(e)}))}}))},goMynote(e){let t=e.target.parentElement;while(!t.classList.contains("card_container"))t=t.parentElement;let n=t.querySelector(".noteId").innerText;this.myNoteId=n,this.$router.push({name:"MyNoteInfo",params:{noteId:this.myNoteId}})},inviteForm(e){let t=e.target;while(!t.classList.contains("card_container"))t=t.parentElement;let n=t.querySelector(".noteId").innerText;this.noteId.push(n)},inviteUser(e){let t=this.noteId[0],n=[],l=document.querySelectorAll(".input_email");for(let o=0;o<l.length;o++)null!=l[o]&&n.push(","+l[o].value+","),console.log("userEmail"),console.log(l[o].value);let i={noteId:t,invitedMember:n};fetch("http://localhost:8087/java/inviteUser",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}).then((e=>{U().fire({title:"초대완료!",text:"초대받은 유저는 내용을 수정할 수 있습니다!!",cancelButtonText:"돌아가기"}),this.inviteModalOpen=!1})).catch((e=>{console.log(e)}))},addInviteMember(e){let t=e.target.parentElement.parentElement;console.log(t),t.setAttribute("style","display:flex; flex-direction:column;");let n=document.createElement("input");n.setAttribute("class","input_email"),n.setAttribute("style","width: 450px; margin: 3% 0 0 12.5%; border:none; height: 50px; outline: none !important; text-align: center; box-shadow: 0 0 10px #26ce42; font-size: 20px; color:black;"),t.append(n)},delInviteMember(e){let t=e.target.parentElement.parentElement,n=t.querySelectorAll(".input_email");console.log(t.lastChild),n.length>1&&t.lastChild.remove(),console.log(n)},inviteCancleForm(e){let t=e.target;while(!t.classList.contains("card_container"))t=t.parentElement;let n=t.querySelector(".noteId").innerText;this.oneNoteId=n,fetch(`http://localhost:8087/java/showBlockMember/${n}`,{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.text())).then((e=>{let t=[];t=e.split(","),t=t.filter((e=>""!==e&&null!==e));for(let n=0;n<t.length;n++)this.InvitedmemberList.push(t[n])})).catch((e=>console.log(e)))},blockMember(e){let t=this.oneNoteId,n=document.querySelectorAll('input[type="checkbox"]');for(let i=0;i<n.length;i++)if(1==n[i].checked){let e=document.querySelectorAll(".invitedMemberInfo")[i].innerHTML;this.blockMeber.push(e)}let l={invitedMember:this.blockMeber,noteId:t};console.log("fetchData"),console.log(l),fetch("http://localhost:8087/java/blockMember",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)}).then((e=>{U().fire({title:"성공!",cancelButtonText:"돌아가기"});let t="",n="",l=document.querySelectorAll(".invitedMemberInfo");if(e.isConfirmed)for(let i=0;i<l.length;i++)null==l[i].innerHTML&&(t=l[i].parentElement,n=t.parentElement,n.removeChild(t));this.inviteCancleModalOpen=!1})).catch((e=>{console.log(e)}))},delMemberList(e){this.InvitedmemberList=[]}},components:{Modal:H.Z}},G=n(89);const K=(0,G.Z)(Z,[["render",F],["__scopeId","data-v-64361004"]]);var Y=K},7273:function(e,t,n){n.d(t,{Z:function(){return m}});var l=n(3396);const i=e=>((0,l.dD)("data-v-068e05fd"),e=e(),(0,l.Cn)(),e),o={class:"black-bg",id:"del_modal"},s={class:"white-bg"},c=i((()=>(0,l._)("div",{class:"modal_text"},"삭제 하시겠습니까?",-1))),a=i((()=>(0,l._)("hr",null,null,-1))),d={class:"modal_btn_container"};function r(e,t,n,i,r,h){return(0,l.wg)(),(0,l.iD)("div",o,[(0,l._)("div",s,[c,a,(0,l._)("div",d,[(0,l._)("button",{class:"modal_delbtn",onClick:t[0]||(t[0]=e=>h.delNote(e))},"ㅇㅋ"),(0,l._)("button",{class:"modal_cancel",onClick:t[1]||(t[1]=t=>e.$emit("hide_modal"))},"ㄴㄴ")])])])}n(7658);var h={props:{noteId:Array,title:{type:String,require:!1}},methods:{delNote(e){let t=this.noteId,n=[];for(let i=0;i<t.length;i++)n.push(t[i]);let l={noteIds:n};fetch("http://localhost:8087/java/MyNoteList",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)}).then((e=>{console.log("asdasdasdasd"),this.$emit("goList")})).catch((e=>{console.log(e)}))}}},u=n(89);const _=(0,u.Z)(h,[["render",r],["__scopeId","data-v-068e05fd"]]);var m=_}}]);
//# sourceMappingURL=883.c17ffd62.js.map