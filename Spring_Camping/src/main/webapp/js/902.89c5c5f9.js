"use strict";(self["webpackChunkcamping"]=self["webpackChunkcamping"]||[]).push([[902],{1151:function(e,t){t["Z"]={name:"district",data:[{"서울":["종로구","중구","용산구","성동구","광진구","동대문구","중랑구","성북구","강북구","도봉구","노원구","은평구","서대문구","마포구","양천구","강서구","구로구","금천구","영등포구","동작구","관악구","서초구","강남구","송파구","강동구"]},{"부산":["중구","서구","동구","영도구","부산진구","동래구","남구","북구","강서구","해운대구","사하구","금정구","연제구","수영구","사상구","기장군"]},{"인천":["중구","동구","남구","연수구","남동구","부평구","계양구","서구","강화군","옹진군"]},{"대구":["중구","동구","서구","남구","북구","수성구","달서구","달성군"]},{"광주":["동구","서구","남구","북구","광산구"]},{"대전":["동구","중구","서구","유성구","대덕구"]},{"울산":["중구","남구","동구","북구","울주군"]},{"경기":["가평군","고양시","과천시","광명시","광주시","구리시","군포시","김포시","남양주시","동두천시","부천시","성남시","세종특별자치시","수원시","시흥시","안산시","안성시","안양시","양주시","양평군","여주시","연천군","오산시","용인시","의왕시","의정부시","이천시","파주시","평택시","포천시","하남시","화성시"]},{"강원":["원주시","춘천시","강릉시","동해시","속초시","삼척시","홍천군","태백시","철원군","횡성군","평창군","영월군","정선군","인제군","고성군","양양군","화천군","양구군"]},{"충북":["청주시","충주시","제천시","보은군","옥천군","영동군","증평군","진천군","괴산군","음성군","단양군"]},{"충남":["천안시","공주시","보령시","아산시","서산시","논산시","계룡시","당진시","금산군","부여군","서천군","청양군","홍성군","예산군","태안군"]},{"경북":["포항시","경주시","김천시","안동시","구미시","영주시","영천시","상주시","문경시","경산시","군위군","의성군","청송군","영양군","영덕군","청도군","고령군","성주군","칠곡군","예천군","봉화군","울진군","울릉군"]},{"경남":["창원시","김해시","진주시","양산시","거제시","통영시","사천시","밀양시","함안군","거창군","창녕군","고성군","하동군","합천군","남해군","함양군","산청군","의령군"]},{"전북":["전주시","익산시","군산시","정읍시","완주군","김제시","남원시","고창군","부안군","임실군","순창군","진안군","장수군","무주군"]},{"전남":["여수시","순천시","목포시","광양시","나주시","무안군","해남군","고흥군","화순군","영암군","영광군","완도군","담양군","장성군","보성군","신안군","장흥군","강진군","함평군","진도군","곡성군","구례군"]},{"제주특별자치도":["제주시","서귀포시"]}]}},170:function(e,t,a){a.d(t,{Z:function(){return c}});var i=a(3396);const o={class:"image-preview-container"},n=["id"],l=["src"];function s(e,t,a,s,d,u){return(0,i.wg)(),(0,i.iD)("div",o,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(d.imagesUrl,((e,a)=>((0,i.wg)(),(0,i.iD)("div",{id:a,class:"image-preview-div"},[(0,i._)("img",{src:e},null,8,l),(0,i._)("input",{type:"button",value:"X",onMouseover:t[0]||(t[0]=e=>u.mouseoverImage(e)),onMouseout:t[1]||(t[1]=e=>u.mouseoutImage(e)),onClick:t[2]||(t[2]=e=>u.deleteImage(e)),class:"image-preview-delete-button"},null,32)],8,n)))),256))])}a(7658);var d={props:["images"],data(){return{imageFiles:[],imagesUrl:[]}},created:function(){console.log("크리에이티드 이미지 : ",this.images)},methods:{deleteImage(e){let t=e.target.parentElement,a=new DataTransfer,i=[];for(let o=0;o<this.imageFiles.length;o++)o!=t.getAttribute("id")&&(a.items.add(this.imageFiles[o]),i.push(this.imagesUrl[o]));this.imageFiles=a.files,this.imagesUrl=i,this.$emit("deleteImages",this.imageFiles)},insertImage(){let e=new DataTransfer;for(let t of this.images)t.type.indexOf("image")>=0&&e.items.add(t);this.imageFiles=e.files,this.imagesUrl=[];for(let t of this.imageFiles)this.imagesUrl.push(URL.createObjectURL(t))},mouseoverImage(e){e.target.classList.add("delete-button-active"),e.target.previousElementSibling.classList.add("filter-blur")},mouseoutImage(e){e.target.classList.remove("delete-button-active"),e.target.previousElementSibling.classList.remove("filter-blur")}},watch:{images(e,t){e.length>=t.length&&this.insertImage()}}},u=a(89);const r=(0,u.Z)(d,[["render",s],["__scopeId","data-v-0109d309"]]);var c=r},536:function(e,t,a){a.d(t,{Z:function(){return c}});var i=a(3396);const o=["src"];function n(e,t,a,n,l,s){const d=(0,i.up)("swiper-slide"),u=(0,i.up)("swiper");return(0,i.wg)(),(0,i.j4)(u,{navigation:!0,pagination:{clickable:!0},modules:n.modules,class:"mySwiper"},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.images,(e=>((0,i.wg)(),(0,i.j4)(d,null,{default:(0,i.w5)((()=>[(0,i._)("img",{src:"http://localhost:8087/java/used/showImage/"+e.usedPath+"/"+e.usedStoredName,onclick:"window.open(this.src)"},null,8,o)])),_:2},1024)))),256))])),_:1},8,["modules"])}var l=a(5032),s=a(3390),d={props:["usedId"],data:function(){return{images:[]}},created:function(){fetch("http://localhost:8087/java/used/usedImage/"+this.usedId).then((e=>e.json())).then((e=>{this.images=e,console.log(e)})).catch((e=>console.log(e))),console.log("http://localhost:8087/java/used/usedImage/"+this.usedId)},components:{Swiper:l.tq,SwiperSlide:l.o5},setup(){return{modules:[s.W_,s.tl]}}},u=a(89);const r=(0,u.Z)(d,[["render",n],["__scopeId","data-v-4b4c4311"]]);var c=r},5902:function(e,t,a){a.r(t),a.d(t,{default:function(){return J}});var i=a(3396),o=a(9242),n=a(7139);const l=e=>((0,i.dD)("data-v-033266a8"),e=e(),(0,i.Cn)(),e),s={id:"container"},d={id:"container2",method:"post"},u={class:"used-heads"},r=l((()=>(0,i._)("div",{class:"usedId",name:"usedId"},null,-1))),c={class:"used-inserts"},m={id:"camp-register-image-form",encrypt:"multipart/form-data"},p={class:"insert-btn"},v={class:"used-insert-image-container"},g=l((()=>(0,i._)("h3",null,"상품 사진",-1))),h={class:"used-insert-image-preview"},f={class:"used-pic"},_={class:"used-info"},w=l((()=>(0,i._)("label",{for:"inputWriter"},"작성자",-1))),I=l((()=>(0,i._)("label",{for:"inputName"},[(0,i.Uk)("상품명"),(0,i._)("span",{class:"essential"},"*")],-1))),b=["value"],C=l((()=>(0,i._)("label",{for:"inputPrice"},[(0,i.Uk)("가격"),(0,i._)("span",{class:"essential"},"*")],-1))),y=["value"],S=l((()=>(0,i._)("hr",null,null,-1))),B=l((()=>(0,i._)("label",{for:"inputCate"},[(0,i.Uk)("카테고리"),(0,i._)("span",{class:"essential"},"*")],-1))),x=["value"],P=(0,i.uE)('<option value="" disabled data-v-033266a8>카테고리 선택</option><option value="텐트" data-v-033266a8>텐트</option><option value="타프" data-v-033266a8>타프</option><option value="가구" data-v-033266a8>가구</option><option value="침구" data-v-033266a8>침구</option><option value="조리도구" data-v-033266a8>조리도구</option><option value="조명" data-v-033266a8>조명</option><option value="수납" data-v-033266a8>수납</option><option value="공구" data-v-033266a8>공구</option><option value="냉난방" data-v-033266a8>냉난방</option><option value="기타" data-v-033266a8>기타</option>',11),D=[P],U=l((()=>(0,i._)("label",{for:"inputPlace"},[(0,i.Uk)("지역"),(0,i._)("span",{class:"essential"},"*")],-1))),k={class:"usedPlace"},L=(0,i.uE)('<option value="" disabled data-v-033266a8>시/도</option><option value="전체" data-v-033266a8>전체</option><option value="서울" data-v-033266a8>서울특별시</option><option value="부산" data-v-033266a8>부산광역시</option><option value="대구" data-v-033266a8>대구광역시</option><option value="인천" data-v-033266a8>인천광역시</option><option value="광주" data-v-033266a8>광주광역시</option><option value="대전" data-v-033266a8>대전광역시</option><option value="울산" data-v-033266a8>울산광역시</option><option value="경기" data-v-033266a8>경기도</option><option value="강원" data-v-033266a8>강원도</option><option value="충북" data-v-033266a8>충청북도</option><option value="충남" data-v-033266a8>충청남도</option><option value="전북" data-v-033266a8>전라북도</option><option value="전남" data-v-033266a8>전라남도</option><option value="경북" data-v-033266a8>경상북도</option><option value="경남" data-v-033266a8>경상남도</option><option value="제주특별자치도" data-v-033266a8>제주도</option>',18),T=[L],j=l((()=>(0,i._)("select",{name:"usedPlace",id:"citySelect"},[(0,i._)("option",{value:"",disabled:""},"시/군/구"),(0,i._)("option",{value:"전체"},"전체")],-1))),E=(0,i.uE)('<li data-v-033266a8><label for="align" data-v-033266a8>상태</label><div id="align" data-v-033266a8><input type="radio" id="radio1" name="usedCondition" value="0" checked data-v-033266a8><label for="radio1" data-v-033266a8>상</label><input type="radio" id="radio2" name="usedCondition" value="1" data-v-033266a8><label for="radio2" data-v-033266a8>중</label><input type="radio" id="radio3" name="usedCondition" value="2" data-v-033266a8><label for="radio3" data-v-033266a8>하</label></div></li><hr data-v-033266a8>',2),N={id:"textbox"},q=l((()=>(0,i._)("label",{for:"used_content"},[(0,i.Uk)("상품설명"),(0,i._)("span",{class:"essential"},"*")],-1))),Z={class:"used-desc"},F=["value"],M={class:"used-foot"};function O(e,t,a,l,P,L){const O=(0,i.up)("UsedDetailImage"),W=(0,i.up)("ImagePreview");return(0,i.wg)(),(0,i.iD)("div",s,[(0,i._)("form",d,[(0,i._)("div",u,[r,(0,i._)("div",c,[(0,i._)("div",m,[(0,i._)("label",p,[(0,i.Uk)("사진등록 "),(0,i._)("input",{onChange:t[0]||(t[0]=e=>L.changeImage(e)),onDragenter:t[1]||(t[1]=(0,o.iM)((()=>{}),["prevent"])),onDragover:t[2]||(t[2]=(0,o.iM)((()=>{}),["prevent"])),onDrop:t[3]||(t[3]=(0,o.iM)((t=>e.dropImage(t)),["prevent"])),type:"file",multiple:"",style:{display:"none"}},null,32)])]),(0,i._)("div",v,[g,(0,i._)("div",h,[(0,i._)("div",f,[(0,i.Wm)(O,{usedId:P.usedId},null,8,["usedId"])]),(0,i.Wm)(W,{images:P.images,isNotList:!1,onDeleteImages:L.deleteImages},null,8,["images","onDeleteImages"])])])]),(0,i._)("div",_,[(0,i._)("ul",null,[(0,i._)("li",null,[w,(0,i._)("p",null,(0,n.zw)(P.usedList.nickName),1)]),(0,i._)("li",null,[I,(0,i._)("input",{type:"text",name:"usedName",id:"inputName",placeholder:"상품명을 등록해주세요(최대 20자)",maxlength:"20",autofocus:"",value:P.usedList.usedName},null,8,b)]),(0,i._)("li",null,[C,(0,i._)("input",{type:"number",name:"usedPrice",id:"inputPrice",placeholder:"가격을 숫자로 입력하세요",value:P.usedList.usedPrice},null,8,y)]),S,(0,i._)("li",null,[B,(0,i._)("select",{name:"usedCategory",id:"used_cate",value:P.usedList.usedCategory},D,8,x)]),(0,i._)("li",null,[U,(0,i._)("div",k,[(0,i._)("select",{name:"usedPlace",id:"districtSelect",onChange:t[4]||(t[4]=(...e)=>L.districtChange&&L.districtChange(...e))},T,32),j])]),E,(0,i._)("li",N,[q,(0,i._)("div",Z,[(0,i._)("textarea",{name:"usedContent",class:"used_content",placeholder:"여러 장의 상품 사진과 구입 연도, 브랜드, 사용감, 하자 유무 등 구매자에게 필요한 정보를 꼭 포함해 주세요. (10자 이상)",value:P.usedList.usedContent},null,8,F)])])])])]),(0,i._)("div",M,[(0,i._)("button",{onClick:t[5]||(t[5]=(0,o.iM)((e=>L.confirm()),["prevent"]))},"수정 완료")])])])}a(7658);var W=a(1151),H=a(2492),$=a.n(H),K=a(170),R=a(536),Y={created(){fetch("http://localhost:8087/java/used/usedDetail/"+this.usedId).then((e=>e.json())).then((e=>{if(console.log(e),"전체"!=e.usedPlace&&null!=e.usedPlace){let t=e.usedPlace.split(" ");e.usedPlace=t;let a=document.querySelector("#districtSelect");a.value=t[0],this.districtChange();let i=document.querySelector("#citySelect");i.value=t[1]}this.usedList=e})).catch((e=>console.log(e)))},components:{ImagePreview:K.Z,UsedDetailImage:R.Z},data(){return{usedList:[],usedId:this.$route.params.usedId,images:[],imagesUrl:[]}},methods:{deleteImages(e){this.images=e,document.querySelector('.used-insert-image-container input[type="file"]').files=e},changeImage(e){let t=new DataTransfer;for(let a=0;a<this.images.length;a++)t.items.add(this.images[a]);for(let a=0;a<e.target.files.length;a++)t.items.add(e.target.files[a]);this.images=t.files,e.target.files=t.files,console.log("aaa",this.images)},confirm:function(){document.forms.namedItem("#container2");document.querySelector("#districtSelect#citySelect");let e={},t=document.getElementById("inputName").value,a=document.getElementById("inputPrice").value,i=document.getElementById("used_cate").value,o=document.querySelector(".used_content").value;console.log(),new FormData(document.querySelector("#container2")).forEach(((t,a)=>e[a]=t)),e["usedId"]=this.usedId,null===t||""===t.trim()?this.swName():null==a||""===a.trim()?this.swPrice():null==i||""===i.trim()?this.swCategory():null==o||""===o.trim()||o.length<10?this.swContent():$().fire({title:"",text:"수정하시겠습니까?",icon:"warning",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"확인",cancelButtonText:"취소",reverseButtons:!0}).then((t=>{fetch("http://localhost:8087/java/used/usedUpdate",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((e=>e.text())).then((e=>{console.log(e)})).catch((e=>console.log(e))).finally(this.$router.push({name:"usedDetail"}))}))},districtChange:function(){let e=document.querySelector("#districtSelect"),t=document.querySelector("#citySelect"),a=e.value,i=["서울","부산","인천","대구","광주","대전","울산","경기","강원","충북","충남","경북","경남","전북","전남","제주특별자치도"];t.options.length=1;let o=i.indexOf(a),n=W.Z.data[o][a];for(let s in n){var l=document.createElement("option");l.value=n[s],l.innerHTML=n[s],t.appendChild(l)}},swName:function(){$().fire({title:"",text:"상품명은 필수 입력 사항입니다",icon:"warning",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"확인"})},swPrice:function(){$().fire({title:"",text:"가격은 필수 입력 사항입니다",icon:"warning",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"확인"})},swCategory:function(){$().fire({title:"",text:"카테고리는 필수 선택 사항입니다",icon:"warning",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"확인"})},swPlace:function(){$().fire({title:"",text:"거래지역은 필수 선택 사항입니다",icon:"warning",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"확인"})},swContent:function(){$().fire({title:"",text:"상품설명을 10자 이상 작성해주세요",icon:"warning",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"확인"})}}},z=a(89);const A=(0,z.Z)(Y,[["render",O],["__scopeId","data-v-033266a8"]]);var J=A}}]);
//# sourceMappingURL=902.89c5c5f9.js.map