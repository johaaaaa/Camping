"use strict";(self["webpackChunkcamping"]=self["webpackChunkcamping"]||[]).push([[584],{2714:function(e,t,s){s.d(t,{Z:function(){return J}});var a=s(3396),i=s(9242),d=s(7139);const n={class:"like"},r=["src"],o=["src"],l={class:"card-pic"},u=["src"],c={class:"card-info"},h={class:"card-top"},m={class:"card-info-l"},p={key:0},g={class:"blue-btn"},v={class:"first-link",href:""},f=["value"],k={key:1},C={class:"blue-btnn"},_={class:"first-linkk",href:""},w=["value"],y={class:"font-gray"},D={class:"card-info-r"},I={key:0,class:"dealGreen"},b={key:1,class:"dealRed"},L={key:2,class:"dealGray"},T={key:3,class:"statusBlack"},S={class:"card-bottom"},j={class:"card-place"},$={class:"card-write"},E={class:"font-gray"};function N(e,t,s,N,O,P){return(0,a.wg)(),(0,a.iD)("div",{onClick:t[2]||(t[2]=(...e)=>P.cardDetail&&P.cardDetail(...e)),class:"card"},[(0,a._)("div",n,[O.liked?((0,a.wg)(),(0,a.iD)("img",{key:0,onClick:t[0]||(t[0]=(0,i.iM)((e=>P.hearted()),["stop"])),src:O.heartImg},null,8,r)):(0,a.kq)("",!0),O.liked?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("img",{key:1,onClick:t[1]||(t[1]=(0,i.iM)((e=>P.hearted()),["stop"])),src:O.heartImg2},null,8,o))]),(0,a._)("div",l,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(O.images,(e=>((0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("img",{src:"http://localhost:8087/java/used/showImage/"+e.usedPath+"/"+e.usedStoredName},null,8,u)])))),256))]),(0,a._)("div",c,[(0,a._)("div",h,[(0,a._)("ul",m,[s.usedCard.usedName.length>12?((0,a.wg)(),(0,a.iD)("div",p,[(0,a._)("li",g,[(0,a._)("a",v,[(0,a._)("h3",null,(0,d.zw)(s.usedCard.usedName),1)]),(0,a._)("input",{class:"used-id",type:"hidden",value:s.usedCard.usedId},null,8,f)])])):(0,a.kq)("",!0),s.usedCard.usedName.length<12?((0,a.wg)(),(0,a.iD)("div",k,[(0,a._)("li",C,[(0,a._)("a",_,[(0,a._)("h3",null,(0,d.zw)(s.usedCard.usedName),1)]),(0,a._)("input",{class:"used-id",type:"hidden",value:s.usedCard.usedId},null,8,w)])])):(0,a.kq)("",!0),(0,a._)("li",null,[(0,a._)("h4",null,[(0,a._)("span",y,"￦ "+(0,d.zw)(s.usedCard.usedPrice.toLocaleString("ko-KR")),1)])])]),(0,a._)("ul",D,[(0,a._)("li",null,[0==s.usedCard.dealStatus&&0===s.usedCard.usedStatus?((0,a.wg)(),(0,a.iD)("div",I,"거래가능")):(0,a.kq)("",!0),1==s.usedCard.dealStatus&&0===s.usedCard.usedStatus?((0,a.wg)(),(0,a.iD)("div",b,"거래중")):(0,a.kq)("",!0),2==s.usedCard.dealStatus&&0===s.usedCard.usedStatus?((0,a.wg)(),(0,a.iD)("div",L,"거래완료")):(0,a.kq)("",!0),0!=s.usedCard.usedStatus?((0,a.wg)(),(0,a.iD)("div",T,"접근제한")):(0,a.kq)("",!0)])])]),(0,a._)("div",S,[(0,a._)("div",j,(0,d.zw)(s.usedCard.usedPlace),1),(0,a._)("div",$,[(0,a._)("span",E,(0,d.zw)(s.usedCard.usedWrite),1)])])])])}s(7658);var O=s(865),P=s.p+"img/heart.83ab491c.png",q=s(5934),x=s(2492),z=s.n(x),B={name:"UsedCard",props:["usedCard"],data(){return{cardImg:O,heartImg:P,heartImg2:q,liked:!0,images:[]}},mounted(){},methods:{cardDetail:function(e){this.$router.push({name:"usedDetail"})},hearted:function(){if(event.preventDefault(),null===this.$store.state.email)z().fire({icon:"warning",title:"로그인 후에 찜해주세요",toast:!0,showConfirmButton:!1,timer:850,didOpen:e=>{e.addEventListener("mouseenter",z().stopTimer),e.addEventListener("mouseleave",z().resumeTimer)}});else if(this.$store.state.email===this.usedCard.email)z().fire({icon:"warning",title:"내가 쓴 글은 찜할 수 없어요",toast:!0,showConfirmButton:!1,timer:900,didOpen:e=>{e.addEventListener("mouseenter",z().stopTimer),e.addEventListener("mouseleave",z().resumeTimer)}});else{this.liked=!this.liked;let e={boardId:this.usedCard.usedId,boardDivision:2,email:this.$store.state.email};console.log(e),console.log(e.boardId),!0===this.liked?fetch("http://localhost:8087/java/save",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((e=>e.text())).then((e=>{e>="1"&&(console.log("삭제되었습니다."),z().fire({icon:"error",title:"찜 목록에서 삭제되었어요",toast:!0,showConfirmButton:!1,timer:1e3,didOpen:e=>{e.addEventListener("mouseenter",z().stopTimer),e.addEventListener("mouseleave",z().resumeTimer)}}))})).catch((e=>console.log(e))):!1===this.liked?fetch("http://localhost:8087/java/save",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((e=>e.text())).then((e=>{e>="1"&&(console.log("입력되었습니다."),z().fire({icon:"success",title:"찜 목록에 저장되었어요",toast:!0,showConfirmButton:!1,timer:1e3,didOpen:e=>{e.addEventListener("mouseenter",z().stopTimer),e.addEventListener("mouseleave",z().resumeTimer)}}),this.updateLike())})).catch((e=>console.log(e))):console.log("좋아요실패??")}},updateLike:function(){let e=this.usedCard.usedId;fetch("http://localhost:8087/java/used/updateLike",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}},created(){fetch("http://localhost:8087/java/used/usedImage/"+this.usedCard.usedId).then((e=>e.json())).then((e=>{this.images=e})).catch((e=>console.log(e))),null!=this.$store.state.email&&fetch("http://localhost:8087/java/save?boardId="+this.usedCard.usedId+"&email="+this.$store.state.email+"&boardDivision=2").then((e=>e.text())).then((e=>{"true"==e&&(this.liked=!1)})).catch((e=>console.log(e)))},watch:{usedCard:function(){fetch("http://localhost:8087/java/used/usedImage/"+this.usedCard.usedId).then((e=>e.json())).then((e=>{this.images=e})).catch((e=>console.log(e))),null!=this.$store.state.email&&fetch("http://localhost:8087/java/save?boardId="+this.usedCard.usedId+"&email="+this.$store.state.email+"&boardDivision=2").then((e=>e.text())).then((e=>{"true"==e&&(this.liked=!1)})).catch((e=>console.log(e)))}}},U=s(89);const M=(0,U.Z)(B,[["render",N],["__scopeId","data-v-1606f7e9"]]);var J=M},2747:function(e,t,s){s.r(t),s.d(t,{default:function(){return I}});var a=s(3396),i=s(7139);const d=e=>((0,a.dD)("data-v-02544818"),e=e(),(0,a.Cn)(),e),n={id:"container"},r={id:"container2"},o={onsubmit:"return false"},l={class:"used-headd"},u={class:"used-title"},c={key:0},h={class:"font-green"},m=d((()=>(0,a._)("hr",null,null,-1))),p={class:"used-body"},g={class:"cards"},v={class:"used-foote"};function f(e,t,s,d,f,k){const C=(0,a.up)("UsedCard"),_=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",n,[(0,a._)("div",r,[(0,a._)("form",o,[(0,a._)("div",l,[(0,a._)("div",u,[null!=this.usedList[0]?((0,a.wg)(),(0,a.iD)("h2",c,[(0,a.Uk)("중고장터 "),(0,a._)("span",h,(0,i.zw)(this.usedList[0].nickName),1),(0,a.Uk)(" 님이 쓴 글")])):(0,a.kq)("",!0)]),m]),(0,a._)("div",p,[(0,a._)("h2",null,(0,i.zw)(e.recruMsg),1),(0,a._)("div",g,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(f.usedList,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e.id},[(0,a.Wm)(_,{tag:"div",to:{name:"usedDetail",params:{usedId:e.usedId}}},{default:(0,a.w5)((()=>[(0,a.Wm)(C,{usedCard:e},null,8,["usedCard"])])),_:2},1032,["to"])])))),128))])])]),(0,a._)("div",v,[(0,a._)("button",{onClick:t[0]||(t[0]=(...e)=>k.usedInsert&&k.usedInsert(...e))},"+")])])])}s(7658);var k=s(2714),C=s(2492),_=s.n(C),w={props:["email"],components:{UsedCard:k.Z},data(){return{usedList:[],myGearType:"",regionSelect:"",regionSelect2:"",minPrice:"",maxPrice:""}},methods:{cardDetail:function(){this.$router.push({name:"usedDetail"})},usedInsert:function(){null!=this.$store.state.email?this.$router.push({name:"usedInsert"}):_().fire({icon:"warning",title:"로그인을 해주세요",toast:!0,showConfirmButton:!1,timer:1500,timerProgressBar:!0,didOpen:e=>{e.addEventListener("mouseenter",_().stopTimer),e.addEventListener("mouseleave",_().resumeTimer),this.$router.push({name:"LoginSignup"})}})},usedDetail:function(e){this.$router.push({name:"usedDetail",params:{usedId:e}})}},created(){let e;e="myPage"==this.email?this.$store.state.email:this.email,fetch("http://localhost:8087/java/used/myUsed/"+e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((e=>e.json())).then((e=>{console.log(e),this.usedList=e,this.usedList.length<1?this.recruMsg="중고거래 게시물이 없습니다":this.recruMsg=""})).catch((e=>console.log(e))),console.log(this.usedList.nickName)}},y=s(89);const D=(0,y.Z)(w,[["render",f],["__scopeId","data-v-02544818"]]);var I=D},865:function(e,t,s){e.exports=s.p+"img/bg9.c098448c.jpg"},5934:function(e,t,s){e.exports=s.p+"img/heart2.01c22f4d.png"}}]);
//# sourceMappingURL=584.77f376b0.js.map